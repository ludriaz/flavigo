<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel de Administración</title>
<link rel="stylesheet" th:href="@{/css/boostrap/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/css/boostrap/bootstrap-icons.css}">
<link rel="stylesheet" th:href="@{/css/admin-dashboard.css}">
<link rel="stylesheet" th:href="@{/css/tables-forms.css}">
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/js/sidebar.js}"></script>
<script th:src="@{/js/formularioPuntoInteres.js}"></script>


</head>
<body>
	<div th:insert="~{admin/fragmentos/sidebar :: sidebar}"></div>


	<div th:insert="~{admin/fragmentos/navbar :: navbar}"></div>

	<div class="container mt-5">
		<h2>Editar Punto de Interés</h2>
		<form th:action="@{/admin/PuntoInteres/Actualizar}" method="post">
			<input type="hidden" name="id" th:value="${punto.id}" />

			<div class="mb-3">
				<label class="form-label">Nombre</label> <input type="text"
					class="form-control" name="nombre" th:value="${punto.nombre}"
					required>
			</div>

			<div class="mb-3">
				<label class="form-label">Descripción breve</label>
				<textarea class="form-control" name="descripcionBreve" rows="2"
					th:text="${punto.descripcionBreve}"></textarea>
			</div>

			<div class="mb-3">
				<label class="form-label">Descripción detallada</label>
				<textarea class="form-control" name="descripcionDetallada" rows="4"
					th:text="${punto.descripcionDetallada}"></textarea>
			</div>

			<div class="row mb-3">
				<div class="col-md-6">
					<label class="form-label">Latitud</label> <input type="number"
						step="0.0000001" class="form-control" name="latitud"
						th:value="${punto.latitud}">
				</div>
				<div class="col-md-6">
					<label class="form-label">Longitud</label> <input type="number"
						step="0.0000001" class="form-control" name="longitud"
						th:value="${punto.longitud}">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label class="form-label">Calle</label> <input type="text"
						class="form-control" name="calle" th:value="${punto.calle}">
				</div>
				<div class="col-md-4">
					<label class="form-label">Número</label> <input type="text"
						class="form-control" name="numero" th:value="${punto.numero}">
				</div>
				<div class="col-md-4">
					<label class="form-label">Localidad</label> <input type="text"
						class="form-control" name="localidad"
						th:value="${punto.localidad}">
				</div>
			</div>

			<div class="mb-3">
				<label class="form-label">URL</label> <input type="url"
					class="form-control" name="url" th:value="${punto.url}">
			</div>

			<div class="mb-3">
				<label class="form-label">Imagen</label> <input type="file"
					class="form-control" name="imagen"> <img th:if="${punto.imagen}" th:src="${punto.imagen}"
					alt="Imagen actual" class="mt-2" style="max-width: 200px;">
			</div>

			<div class="row">
				<div class="col-md-3 mb-3">
					<label class="form-label">Apertura mañana</label> <input
						type="time" class="form-control" name="horarioAperturaManana"
						th:value="${punto.horarioAperturaManana}">
				</div>
				<div class="col-md-3 mb-3">
					<label class="form-label">Cierre mañana</label> <input type="time"
						class="form-control" name="horarioCierreManana"
						th:value="${punto.horarioCierreManana}">
				</div>
				<div class="col-md-3 mb-3">
					<label class="form-label">Apertura tarde</label> <input type="time"
						class="form-control" name="horarioAperturaTarde"
						th:value="${punto.horarioAperturaTarde}">
				</div>
				<div class="col-md-3 mb-3">
					<label class="form-label">Cierre tarde</label> <input type="time"
						class="form-control" name="horarioCierreTarde"
						th:value="${punto.horarioCierreTarde}">
				</div>
			</div>

			<div class="mb-3">
				<label class="form-label">Etiquetas</label>
				<textarea class="form-control" name="etiquetas" rows="2"
					th:text="${punto.etiquetas}"></textarea>
			</div>

			<div class="mb-3">
				<label class="form-label">Teléfono</label> <input type="text"
					class="form-control" name="telefono" th:value="${punto.telefono}">
			</div>

		<div class="mb-3">
    <label class="form-label">Tipo</label> 
    <select class="form-select" name="tipo" id="tipo">
        <option th:each="tipo : ${T(tfg.jordanlucia.aplicacion.flavigo.ENUMS.enums.TipoPuntoInteres).values()}"
                th:value="${tipo.name()}" th:text="${tipo}"
                th:selected="${tipo == punto.tipo}">
        </option>
    </select>
</div>


			<button type="submit" class="btn btn-primary">Guardar
				cambios</button>
			<a th:href="@{/admin/PuntoInteres/ConsultarPuntoInteres}"
				class="btn btn-secondary">Cancelar</a>
		</form>
	</div>
	<div class="modal fade" id="camposDinamicosModal" tabindex="-1" aria-labelledby="camposDinamicosModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="camposDinamicosModalLabel">Detalles Adicionales</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modal-body-campos-dinamicos">
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="guardarCamposDinamicos">Guardar</button>
            </div>
        </div>
    </div>
</div>
	<div th:replace="~{admin/fragmentos/footer :: footer}"></div>
</body>
</html>